<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.0.8/purify.min.js"></script>

    <meta charset="utf-8" />
    <meta name="description" content="Personal Portfolio" />
    <meta name="keywords" content="HTML, CSS, JavaScript" />
    <meta name="author" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Native Dialogs Page</title>
  </head>
  <body>
    <h1>Simple Dialogs?</h1>
    <button class="alert">Alert</button>
    <button class="confirm">Confirm</button>
    <button class="prompt">Prompt</button>
    <button class="safer-prompt">Safer Prompt</button>

    <hr />
    <div id="msgBox" class="">
      <output class=""></output>
    </div>
  </body>

  <style>
    .hidden {
      display: none;
    }

    .msg {
      border-style: double;
      border-color: black;
      text-align: center;
      padding: 10px;
    }
  </style>
  <script>
    const msgBox = document.querySelector("#msgBox");
    const msg = document.querySelector("output");
    var confirmClick = "";
    let show = false;

    // control_box();
    const control_box = () => {
      if (show) {
        msg.classList.remove("hidden");
        msg.classList.add("msg");
      } else {
        msg.classList.add("hidden");
      }
      msg.innerHTML = `The value returned by the confirm method is: ${confirmClick}`;
    };
    const alertBtn = document.querySelector(".alert");
    alertBtn.addEventListener("click", () => {
      // addOrRemoveHiddenClass();
      show = false;
      control_box();
      // alert("Alert generated!!");
      setTimeout(() => {
        alert("Alert generated!!"), 100000;
      });
    });
    const confirm_box = () => {
      confirmClick = confirm("Confirm Button generated!");
      show = true;
      control_box();
    };
    const name_box = () => {
      confirmClick = prompt("What is your name?");
      show = true;
      control_box();
    };
    const sf_name_box = () => {
      confirmClick = prompt(
        "What is your name?",
        '<b onmouseover="alert("pwned")">Rolled me</b>'
      );
      confirmClick = DOMPurify.sanitize(confirmClick);
      show = true;
      control_box();
    };

    const confirmBtn = document.querySelector(".confirm");
    confirmBtn.addEventListener("click", () => {
      show = false;
      control_box();

      setTimeout(() => {
        confirm_box(), 50000;
      });
    });

    const promptBtn = document.querySelector(".prompt");
    promptBtn.addEventListener("click", () => {
      show = false;
      control_box();

      // msgBox.insertAdjacentHTML("beforeend", output);
      setTimeout(() => {
        name_box(), 100000;
      });
      // msg.innerHTML = `The value returned by the prompt method is: ${promptTxt}`;
    });
    const sf_promptBtn = document.querySelector(".safer-prompt");
    sf_promptBtn.addEventListener("click", () => {
      show = false;
      control_box();

      // msgBox.insertAdjacentHTML("beforeend", output);
      setTimeout(() => {
        sf_name_box(), 100000;
      });
      // msg.innerHTML = `The value returned by the prompt method is: ${promptTxt}`;
    });
  </script>
</html>
